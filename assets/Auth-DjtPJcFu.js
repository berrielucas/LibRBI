import{u as c,n as f,q as m,r as g}from"./index-DMki7Wkw.js";const v={__name:"Auth",setup(d){const t=c(),e=f(),s=m(),n=g(s.params.token),o=a(n.value);function a(u){try{var i=u.split(".")[1],l=i.replace(/-/g,"+").replace(/_/g,"/"),p=decodeURIComponent(window.atob(l).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(p)}catch{return!1}}return o?e.push(`/login?link=${o.iss}&email=${o.usuario.email}`):(console.log("Não foi possível logar - token inválido"),t.logout(),e.push("/login")),()=>{}}};export{v as default};
