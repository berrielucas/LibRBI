import{u as c,l as f,n as m,r as g}from"./index-BMxj_9Ga.js";const v={__name:"Auth",setup(d){const t=c(),e=f(),s=m(),n=g(s.params.token),o=a(n.value);function a(u){try{var l=u.split(".")[1],i=l.replace(/-/g,"+").replace(/_/g,"/"),p=decodeURIComponent(window.atob(i).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(p)}catch{return!1}}return o?e.push(`/login?link=${o.iss}&email=${o.usuario.email}`):(console.log("Não foi possível logar - token inválido"),t.logout(),e.push("/login")),()=>{}}};export{v as default};
